// Experticity Pattern Library
// Pattern Library Forms
// Loaded into core.less

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  display: none;
}

input,
textarea,
input[type="search"],
select {
  .default-text();
  .border-radius();
  background-color: @form-background-color;
  border: solid 1px @form-border-color;
  color: @form-field-color;
  font-size: 16px;
  height: @form-height;
  margin: @form-margin;
  width: 100%;

  &.info {
    border-color: @form-border-info;
  }
  &.success {
    border-color: @form-border-success;
  }
  &.warning {
    border-color: @form-border-warning;
    outline: none;
  }
  &.guidance {
    background: @form-background-color;
    padding-right: 84px;
  }
  &.form-large {
    font-size: @form-large-font-size;
    font-weight: @form-large-form-weight;
    height: @form-large-field-height;

    // Large field w/ guidance overrides
    form.validated-form & ~ .validated-form-guidance,
    form.validated-form & ~ .validated-form-guidance + .validated-form-guidance {
      padding-bottom: 14px;
      padding-top: (@form-large-field-height / 4);
    }

    // Large field w/ append overrides
    & ~ .add-on {
      height: @form-large-field-height;
      line-height: @form-large-field-height - 2;
    }
  }

  &::-webkit-input-placeholder { /* Chrome */
    color: @form-placeholder-color;
  }
  &:-ms-input-placeholder { /* IE 10+ */
    color: @form-placeholder-color;
  }
  &::-moz-placeholder { /* Firefox 19+ */
    color: @form-placeholder-color;
    opacity: 1;
  }
  &:-moz-placeholder { /* Firefox 4 - 18 */
    color: @form-placeholder-color;
    opacity: 1;
  }
}

input,
textarea,
input[type="search"] {
  box-sizing: border-box;
  display: block;
  padding: @form-padding;

  // Only including the icons for non-select inputs (so it doesn't conflict w/ the drop-down arrow)
  &.success {
    background:
        @form-background-color
        url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAYAAACw50UTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJhJREFUeNpiYBgF1ABmu2Y7EKuWkQRDBYDUfiA2AOIFp9xSEwnpYSLDYBBIAIo1UMVwIOhHMpiBpGABuiIBagDIu4Vorp4PcimaPqKChREaQfuxaaTEYBBgweJdUHjC2eQaDDN8ARDHo1mSgEUtSQYjhzl6aqDYYJR0jscCsgzGyERYLCDbYKw5FGoBKFl+QE+Wo4AqACDAAHWIPYlhIoSyAAAAAElFTkSuQmCC)
        no-repeat
        right center;
  }

  &.warning {
    background:
        @form-background-color
        url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAYAAACw50UTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGdJREFUeNpiYBgFWAAjNsHrlgYCQMoASeiC5vELH0g1nAmHeAEQ70fCBeS4nImWwUKs4QeGrMupaviBQe9yFhziF4C4EY1PE5d/ICcD4cuhDtDMAwOOQAsODIkwf4CWYh6MrCIXIMAAPm8W++VmedwAAAAASUVORK5CYII=)
        no-repeat
        right center;
    padding-right: 30px;

    &.guidance {
      padding-right: 114px;
    }

    & ~ .validated-form-guidance {
      right: 15px;
    }
  }
}

select {
  padding: @form-padding-select;
}


// Appended Input
.input-append {
  padding-right: @form-height;
  position: relative;
  white-space: nowrap;

  input,
  textarea,
  select {
    .border-right-radius(0px);
    border-right: 0;
  }

  .add-on {
    background-color: @color-lightGray-1;
    border: 1px solid @form-border-color;
    .border-right-radius(@base-border-radius);
    color: @color-mediumGray-3;
    cursor: pointer;
    display: block;
    height: @form-height;
    line-height: (@form-height - 2px);
    position: absolute;
    right: 0;
    text-align: center;
    top: 0;
    width: @form-height;
  }
}

// Default Checkbox
input[type="checkbox"] {
  display: inline;
  height: @form-checkbox-height;
  margin-top: 16px;
  position: relative;
  vertical-align: top;
  width: @form-checkbox-width;

  &:after {
    .animate();
    background-color: @form-background-color;
    border: solid 2px @form-checkbox-color;
    .border-radius();
    color: @form-checkbox-check-color;
    content: "";
    display: block;
    font-size: 13px;
    height: 100%;
    left: 0;
    line-height: 16px;
    text-align: center;
    position: absolute;
    top: 0;
    width: 100%;
  }

  &:before {
    .animate();
    content: "";
    display: block;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }

  &:checked:after {
    content: '\f00c'; //Font Awesome Check Icon
    font-family: "FontAwesome";
  }

  &:disabled {
    .opacity(50);
  }
}


// Toggle Checkbox
input[type="checkbox"].toggle {
  background: @form-border-color;
  border-radius: (@form-checkbox-toggle-height / 2);
  height: @form-checkbox-toggle-height;
  text-indent: -5000px;
  width: @form-checkbox-toggle-width;

  &:before {
    background: @form-checkbox-color;
    border-radius: (@form-checkbox-toggle-height / 2);
    height: @form-checkbox-toggle-height;
    width: @form-checkbox-toggle-width;
  }

  &:after {
    background: @form-background-color;
    border: solid 3px @form-checkbox-color;
    border-radius: (@form-checkbox-toggle-height / 2);
    display: block;
    height: @form-checkbox-toggle-height;
    width: @form-checkbox-toggle-height;
  }

  &:checked:before {
    background: @form-checkbox-color-active;
    width: @form-checkbox-toggle-width;
  }

  &:checked:after {
    border-color: @form-checkbox-color-active;
    left: @form-checkbox-toggle-width - @form-checkbox-toggle-height;
  }
}


// Toggle Small Checkbox
input[type="checkbox"].toggle-small {
  background: @form-checkbox-color;
  border-radius: (@form-checkbox-toggle-small-height / 2);
  height: @form-checkbox-toggle-small-height;
  margin: 2px 0 0 2px; // fix overlap of standard checkbox underneath
  text-indent: -5000px;
  width: @form-checkbox-toggle-small-width;

  &:before {
    background: @form-checkbox-color;
    border-radius: (@form-checkbox-toggle-small-height / 2);
    height: @form-checkbox-toggle-small-height;
    left: -2px; // fix overlap of standard checkbox underneath
    top: -2px; // fix overlap of standard checkbox underneath
    width: @form-checkbox-toggle-small-width;
  }

  &:after {
    background: white;
    border: solid 3px @form-checkbox-color;
    border-radius: (@form-checkbox-toggle-small-height / 2);
    height: @form-checkbox-toggle-small-height;
    left: -2px; // fix overlap of standard checkbox underneath
    top: -2px; // fix overlap of standard checkbox underneath
    width: @form-checkbox-toggle-small-height;
  }

  &:checked:before {
    background: @form-checkbox-color-active;
    width: @form-checkbox-toggle-small-width;
  }

  &:checked:after {
    border-color: @form-checkbox-color-active;
    left: @form-checkbox-toggle-small-width - @form-checkbox-toggle-small-height;
  }
}


// Radio Button
input[type="radio"] {
  border: none;
  display: inline-block;
  height: @form-radio-height;
  margin-right: 6px;
  position: relative;
  top: 4px;
  width: @form-radio-width;

  &:before {
    background-color: @form-background-color;
    border: solid 1px @form-checkbox-color;
    .border-radius(50%);
    content: "";
    display: block;
    font-size: 13px;
    height: 100%;
    left: 0px;
    top: 0px;
    line-height: 16px;
    margin: 0;
    position: absolute;
    text-align: center;
    width: 100%;
  }

  &:after {
    background-color: @form-background-color;
    border: solid 2px @form-background-color;
    .border-radius(50%);
    content: "";
    display: block;
    font-size: 13px;
    height: @form-radio-height - 2px;
    left: 1px;  //fix overlap with browser default
    top: 1px; //fix overlap with browser default
    line-height: 16px;
    position: absolute;
    text-align: center;
    width: @form-radio-width - 2px;
  }

  &:checked:after {
    background-color: @form-radio-selected-color;
  }
}

label {
  .label();
  &.warning {
    color: @color-danger;
  }

  &.checkbox-label {
    display: inline-block;
    line-height: 24px;
    margin-left: 10px;
    padding-top: 12px;
    width: 80%;
  }
}


//========    Switch Toggle Checkboxes    ========
/*
<span class="switch-toggle">
  <input type="checkbox" id="switch-input" />
  <label for="switch-input">Toggle Switch</label>
</span>
 */
.switch-toggle {
  display: inline-block;

  // Hide the checkbox
  input[type="checkbox"] {
    display: none;
  }

  // Label that acts as the switch
  label {
    background-color: @color-mediumGray-3;
    border: @form-switch-padding @color-mediumGray-3 solid;
    .border-radius((@form-switch-size / 2) + @form-switch-padding);
    cursor: pointer;
    display: inline-block;
    height: @form-switch-size + (@form-switch-padding * 2);
    margin: 0;
    outline: none;
    position: relative;
    text-indent: -999em;
    transition: background-color 0.25s ease-in-out 0s, border-color 0.25s ease-in-out 0s;
    width: (@form-switch-size * 2) + (@form-switch-padding * 2);

    &:after {
      background-color: @color-white;
      border: none;
      .circle();
      color: @color-white;
      content: ' ';
      height: @form-switch-size;
      left: 0;
      position: absolute;
      top: 0;
      transition: left 0.25s ease-in-out 0s;
      width: @form-switch-size;
    }
  }

  // Checked/On styles
  input[type="checkbox"]:checked + label {
    background-color: @color-success;
    border-color: @color-success;

    &:after {
      left: 50%;
    }
  }

  &.switch-toggle-small {
    label {
      border-width: @form-switch-small-padding;
      .border-radius((@form-switch-small-size / 2) + @form-switch-small-padding);
      height: @form-switch-small-size + (@form-switch-small-padding * 2);
      width: (@form-switch-small-size * 2) + (@form-switch-small-padding * 2);

      &:after {
        height: @form-switch-small-size;
        width: @form-switch-small-size;
      }
    }
  }
}

.exp-form {
  form > div,
  & > div {
    position: relative;
  }

  form > div {
    padding-bottom: 18px;
  }

  input[type="date"],
  input[type="number"],
  input[type="password"],
  input[type="text"],
  textarea,
  select {
    background: @color-lightGray-3;
    border: 0;
    border-bottom: 1px solid @color-mediumGray-3;
    border-radius: 3px 3px 0 0;
    color: @color-darkGray-1;
    font-size: 16px;
    height: 54px;
    margin: 6px 0 0 0;
    padding: 12px 12px 10px;

    &:hover {
      background: @color-lightGray-2;
      border-color: @color-mediumGray-1;
    }

    &:focus {
      border-color: @color-info;
      background: @color-lightGray-2;
      outline: none;
    }

    &::placeholder,
    & + label,
    &.no-value + label {
      color: @color-mediumGray-1;
      font-size: 16px;
    }

    & + label {
      display: none;
      position: absolute;
      top: 4px;
    }

    &.no-value + label {
      top: 22px;
    }

    &:not(:placeholder-shown):not(.no-value) {
      padding: 21px 12px 3px;

      & + label {
        display: block;
        font-size: 13px;
        padding-left: 12px;
        top: 6px;
      }
    }

    &:disabled,
    &:disabled::placeholder,
    &:disabled + label,
    &:disabled + label ~ .guidance,
    &:disabled + .guidance {
      color: @color-mediumGray-3;
    }

    &.error::placeholder,
    &.error + label,
    &.error + label ~ .guidance,
    &.warning::placeholder,
    &.warning + label,
    &.warning + label ~ .guidance {
      color: @color-danger;
    }

    &.error,
    &.warning {
      border-bottom: 1px solid @color-danger;
    }
  }

  .input-append {
    .add-on {
      background-color: @color-lightGray-3;
      border: 0;
      border-bottom: 1px solid @color-mediumGray-3;
      color: @color-mediumGray-1;
      cursor: pointer;
      height: 54px;
      padding-top: 10px;
      position: absolute;
      right: 0;
      text-align: center;
      top: 0;
      width: 42px;
    }
  }

  input[type="date"] {
    line-height: 22px;
    padding: 16px 12px 16px;
    -webkit-appearance: none;
    -moz-appearance: none;
    -o-appearance: none;
    appearance: none;

    & + label {
      // date inputs have no placeholder so always show the label in the focused/with-value state
      display: block;
      font-size: 13px;
      padding: 0 12px;
      pointer-events: none;
      top: 6px;
    }

    &::-webkit-calendar-picker-indicator,
    &::-webkit-inner-spin-button {
      // Hide the calendar picker & clear icon
      display: none;
    }

    &::-webkit-datetime-edit-text { // the / separators
      color: @color-darkGray-1;
    }

    &::-webkit-datetime-edit-day-field,
    &::-webkit-datetime-edit-month-field,
    &::-webkit-datetime-edit-year-field {
      color: @color-darkGray-1;

      &:focus {
        background-color: highlight;
        color: highlighttext;
        outline: none;
      }
    }

    &::-webkit-date-and-time-value {
      text-align: left; // Left align iOS
    }
  }

  input[type="date"]:hover ~ .add-on,
  input[type="number"] ~ .add-on,
  input[type="password"]:hover ~ .add-on,
  input[type="text"]:hover ~ .add-on {
    background: @color-lightGray-2;
    border-color: @color-mediumGray-1;
  }

  input[type="text"]:focus + label + .add-on {
    background: @color-lightGray-2;
    border-color: @color-info;
  }

  input[type="date"] ~ .guidance,
  input[type="password"] ~ .guidance,
  input[type="number"] ~ .guidance,
  input[type="text"] ~ .guidance  {
    color: @color-mediumGray-1;
    font-size: 13px;
    margin-top: 3px;
    padding-left: 12px;
  }

  select {
    width: 100%;
    -webkit-appearance:none;
    -moz-appearance:none;
    -o-appearance:none;
    appearance:none;

    option {
      &:disabled {
        display: none;
      }
    }

    & + label {
      pointer-events: none;
      width: 100%;

      &:after {
        .exp-ux-medium();
        background: @color-lightGray-3;
        content: "\e60f";
        margin: 0;
        padding: 0 8px 0 0;
        position: absolute;
        right: 0;
      }
    }

    &.no-value + label {
      display: block;
      padding: 0 12px;
    }

    &:not(.no-value) + label:after {
      top: 16px;
    }

    &:not(:placeholder-shown):not(.no-value) {
      padding: 18px 9px 3px;

      & + label {
        top: 10px;
      }
    }

    &:focus,
    &:hover {
      color: @color-darkGray-1;

      & + label:after {
        background: @color-lightGray-2;
      }
    }
  }

  textarea {
    height: 104px;

    &:not(:placeholder-shown):not(.no-value) {
      padding-top: 28px !important;
    }

    & + label ~ .guidance {
      font-size: 13px;
      padding: 4px 12px;
    }

    &:not(:placeholder-shown):not(.no-value) + label {
      background: @color-lightGray-3;
      left: 2px;
      padding-left: 10px;
      padding-top: 8px;
      top: 0;
      width: ~"calc(100% - 12px)";
    }

    &:not(:placeholder-shown):hover + label,
    &:not(:placeholder-shown):focus + label {
      background: @color-lightGray-2;
    }
  }

  .exp-quantity-selector-container {
    input[type="number"],
    input[type="number"]:not(:placeholder-shown):not(.no-value) {
      border: 0;
      padding: 12px;
    }
  }
}
