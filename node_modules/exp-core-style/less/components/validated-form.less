/*
 * Validated Form
 */
form.validated-form {
	.make-sm-column(12);
	.make-md-column(8);
	.make-lg-column(4);
	.float-none();
	.center-block();
	 max-width: 330px;
	padding-top: 12px;

	.page-title {
		padding: 0 0 12px;
	}

	.validated-input-field {
		position: relative;
	}

	button {
		.btn-primary();
		width: 100%;
		margin: 24px 0 6px;
	}

	hr {
		margin: 10px 0;
	}

	.validated-form-guidance {
		bottom: 0;
		color: @color-info;
		cursor: pointer;
		font-size: @type-small-text-size;
		padding: 12px;
		position: absolute;
		right: 0;
		&:hover {
			color: @color-info-dark;
		}
		&.warning {
			color: @color-primary-dark;
		}
	}

	//todo: make this less messy
  &:not('.exp-form') .form-helper {
		.border-radius();
		background-color: @color-mediumGray-1;
		box-shadow: @shadow-level-1;
		color: white;
		opacity: 0.9;
		padding: 12px;
		font-size: @font-size;
		line-height: @font-line-height;
		margin: 0;
		position: absolute;
		bottom: 54px;
		width: 100%;
		a {
			font-weight: inherit;
			text-decoration: underline;
		}
		&:after {
			color: @color-mediumGray-1;
			content: '\25bc';
			position: absolute;
			bottom: -12px;
			right: 18px;
			font-size: 11px;
			transform: scaleX(2);
		}
		&.dropped {
			bottom: auto;
			top: 80px;
			z-index: 5;
			&:after {
				content: '\25b2 ';
				bottom: auto;
				top: -12px;
			}
		}
	}
}

/*
 * Slim Form
 * The "slim" form style that uses only a bottom border on each form input.
 * It is characterized by placeholder text that starts out large, then moves up and gets smaller when
 * the field is focused or has an input in it.
 * This extends the validated form.
 *
 * Example markup:
 * <form class="validated-form slim-form">
 *   <div class="slim-form-input-wrap [no-value] [active-input] [warning]">
 *     <input id="input-1" type="text" class="slim-form-input">
 *     <label for="input-1">My Label</label>
 *     <div class="slim-form-helper">Validation error text.</div>
 *   </div>
 * </form>
 */
form.validated-form.slim-form {
  // Use 16px font-sizes on mobile, to prevent browsers from auto-zooming on focus
  input[type="text"],
  input[type="number"],
  textarea,
  select {
    font-size: @type-mobile-form-text-size;
    @media (min-width: @screen-sm-min) {
      font-size: @font-size;
    }

    &:focus {
      @media (min-width: @screen-sm-min) {
        font-size: @font-size;
      }
    }
  }

  .slim-form-helper {
    .type-small-text();
    bottom: -22px;
    color: @color-primary;
    display: none;
    position: absolute;
  }

  .slim-form-input-wrap {
    background: @color-lightGray-3;
    border-bottom: 1px solid @color-lightGray-1;
    margin-bottom: 12px;
    padding-left: 12px;
    position: relative;
    input, textarea, input[type="search"], select {
      background: transparent;
    }
    &.no-value {
      label {
        .default-text();
        font-size: @type-mobile-form-text-size;
        top: 22px;
        &:after {
        }
      }

      input.slim-form-input {
        height: 54px;
        margin: 0;
        padding: 0 0 16px;
        background: transparent;
        color: @color-darkGray-1;
      }

      textarea.slim-form-input {
        height: 54px;
        margin: 0;
        padding: 0 0 16px;
        background: transparent;
        color: @color-darkGray-1;
        @media (max-width: (@screen-xs-min - 1)) {
          & + label {
            top: 14px;
          }
        }
      }
    }

    &.active-input {
      background: @color-lightGray-2;
      border-bottom: 1px solid @color-info;
    }

    label {
      .type-small-text();
      color: @color-mediumGray-1;
      left: 12px;
      margin: 0;
      pointer-events: none;
      position: absolute;
      top: 7px;
      transition: all .35s;
      z-index: 2;
    }

    .exp-ux-dropDown {
      color: @color-mediumGray-1;
      pointer-events: none;
      position: absolute;
      right: 0;
      top: 30px;
    }

    .slim-form-input {
      border: 0 transparent;
      border-radius: 0;
      box-shadow: none;
      outline: none;
    }

    input.slim-form-input {
      display: inline-block;
      height: 40px;
      margin-top: 16px;
      padding: 0;
    }

    select.slim-form-input {
      -webkit-appearance:none;
      -moz-appearance:none;
      -o-appearance:none;
      appearance:none;
      height: 40px;
      margin-top: 16px;
      padding: 0;

      .option-hidden {
        display: none;
      }
      & + label {
        width: 100%;
        &:after {
          .exp-ux-medium();
          content: "\e60f";
          background: @color-lightGray-3;
          padding: 0 8px 0 0;
          margin: 0;
          position: absolute;
          right: 15px;
          top: 15px;
        }
      }
    }

    textarea.slim-form-input {
      height: 104px;
      margin: 30px 0 0;
      padding: 0;
      transition: height .35s;
    }
  }

  // On an input error, show the helper text and change the underline color to red
  .warning {
    margin-bottom: 24px;

    // Attach the warning to the wrap itself, or a parent
    &.slim-form-input-wrap,
    .slim-form-input-wrap {
      border-bottom: 1px solid @color-danger;
    }

    .slim-form-helper {
      display: block;
    }
  }
}
